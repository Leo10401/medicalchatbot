# ğŸ—ï¸ System Architecture Overview

## High-Level Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER BROWSER                            â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              Web Interface (index.html)                  â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚  Sidebar â”‚  â”‚   Chat   â”‚  â”‚   Disease Predictor    â”‚ â”‚  â”‚
â”‚  â”‚  â”‚          â”‚  â”‚   Area   â”‚  â”‚       Modal            â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ Features â”‚  â”‚          â”‚  â”‚                        â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  JavaScript (script.js) - Handles UI interactions       â”‚  â”‚
â”‚  â”‚  CSS (style.css) - Styling and animations              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚ AJAX/Fetch API
                         â”‚ (HTTP/JSON)
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      FLASK SERVER (app.py)                      â”‚
â”‚                         Port: 5000                              â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    API Endpoints                         â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  GET  /              â†’ Render HTML                      â”‚  â”‚
â”‚  â”‚  POST /api/chat      â†’ AI Conversation                  â”‚  â”‚
â”‚  â”‚  GET  /api/history   â†’ Load Chat History               â”‚  â”‚
â”‚  â”‚  POST /api/clear     â†’ Clear History                    â”‚  â”‚
â”‚  â”‚  POST /api/predict   â†’ Disease Prediction               â”‚  â”‚
â”‚  â”‚  GET  /api/symptoms  â†’ List Symptoms                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Session        â”‚        â”‚   Model Management           â”‚  â”‚
â”‚  â”‚  Management     â”‚        â”‚                              â”‚  â”‚
â”‚  â”‚  - User IDs     â”‚        â”‚  - Load RF Model (.pkl)      â”‚  â”‚
â”‚  â”‚  - History      â”‚        â”‚  - Feature Engineering       â”‚  â”‚
â”‚  â”‚    Tracking     â”‚        â”‚  - Prediction Logic          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                          â”‚
               â”‚                          â”‚
               â–¼                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   EXTERNAL AI SERVICE    â”‚  â”‚     LOCAL STORAGE              â”‚
â”‚   (OpenRouter API)       â”‚  â”‚                                â”‚
â”‚                          â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  Model: Llama 3.3 70B    â”‚  â”‚  â”‚  chat_history/           â”‚  â”‚
â”‚  Endpoint: /completions  â”‚  â”‚  â”‚    session_id.json       â”‚  â”‚
â”‚  Auth: Bearer Token      â”‚  â”‚  â”‚    ...                   â”‚  â”‚
â”‚                          â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                                â”‚
                              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                              â”‚  â”‚  Models/                 â”‚  â”‚
                              â”‚  â”‚    random_forest_model   â”‚  â”‚
                              â”‚  â”‚      .pkl                â”‚  â”‚
                              â”‚  â”‚    model_data.pkl        â”‚  â”‚
                              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                              â”‚                                â”‚
                              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                              â”‚  â”‚  dataset/                â”‚  â”‚
                              â”‚  â”‚    dataset.csv           â”‚  â”‚
                              â”‚  â”‚    symptom_*.csv         â”‚  â”‚
                              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Data Flow Diagrams

### 1. AI Chat Flow

```
User Types Message
      â”‚
      â”œâ”€â†’ JavaScript captures input
      â”‚
      â”œâ”€â†’ POST /api/chat
      â”‚        â”‚
      â”‚        â”œâ”€â†’ Load chat history (session-based)
      â”‚        â”‚
      â”‚        â”œâ”€â†’ Add user message to history
      â”‚        â”‚
      â”‚        â”œâ”€â†’ Prepare API request
      â”‚        â”‚        â”‚
      â”‚        â”‚        â””â”€â†’ Send to OpenRouter API
      â”‚        â”‚                  â”‚
      â”‚        â”‚                  â”œâ”€â†’ Process with Llama 3.3
      â”‚        â”‚                  â”‚
      â”‚        â”‚                  â””â”€â†’ Return AI response
      â”‚        â”‚
      â”‚        â”œâ”€â†’ Add AI response to history
      â”‚        â”‚
      â”‚        â”œâ”€â†’ Save history to file
      â”‚        â”‚
      â”‚        â””â”€â†’ Return JSON response
      â”‚
      â””â”€â†’ Display in chat UI
```

### 2. Disease Prediction Flow

```
User Enters Symptoms
      â”‚
      â”œâ”€â†’ Parse symptoms (comma-separated)
      â”‚
      â”œâ”€â†’ POST /api/predict-disease
      â”‚        â”‚
      â”‚        â”œâ”€â†’ Load trained ML model
      â”‚        â”‚
      â”‚        â”œâ”€â†’ Create feature vector
      â”‚        â”‚        â”‚
      â”‚        â”‚        â”œâ”€â†’ Match symptoms to features
      â”‚        â”‚        â”‚
      â”‚        â”‚        â””â”€â†’ Binary encoding [0,1,0,1,...]
      â”‚        â”‚
      â”‚        â”œâ”€â†’ Model.predict_proba()
      â”‚        â”‚        â”‚
      â”‚        â”‚        â””â”€â†’ Get probabilities for all diseases
      â”‚        â”‚
      â”‚        â”œâ”€â†’ Sort by confidence
      â”‚        â”‚
      â”‚        â”œâ”€â†’ Get top 3 predictions
      â”‚        â”‚
      â”‚        â”œâ”€â†’ Fetch disease info
      â”‚        â”‚        â”‚
      â”‚        â”‚        â”œâ”€â†’ Description
      â”‚        â”‚        â”œâ”€â†’ Precautions
      â”‚        â”‚        â””â”€â†’ Severity
      â”‚        â”‚
      â”‚        â””â”€â†’ Return JSON response
      â”‚
      â””â”€â†’ Display predictions with styling
```

### 3. Session Management Flow

```
User Opens Browser
      â”‚
      â”œâ”€â†’ Initialize session
      â”‚        â”‚
      â”‚        â”œâ”€â†’ Check for existing session ID
      â”‚        â”‚
      â”‚        â””â”€â†’ Generate new ID if needed
      â”‚
      â”œâ”€â†’ Load chat history
      â”‚        â”‚
      â”‚        â”œâ”€â†’ Find session file
      â”‚        â”‚
      â”‚        â”œâ”€â†’ Parse JSON
      â”‚        â”‚
      â”‚        â””â”€â†’ Return messages
      â”‚
      â””â”€â†’ Display in UI

User Closes Browser
      â”‚
      â””â”€â†’ Session file persists for future visits
```

---

## Component Breakdown

### Frontend Components

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              index.html                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                â”‚
â”‚  â”œâ”€ Header                                     â”‚
â”‚  â”‚   â”œâ”€ Title                                  â”‚
â”‚  â”‚   â””â”€ Subtitle                               â”‚
â”‚  â”‚                                             â”‚
â”‚  â”œâ”€ Sidebar                                    â”‚
â”‚  â”‚   â”œâ”€ AI Chat Card                           â”‚
â”‚  â”‚   â”œâ”€ Disease Prediction Button              â”‚
â”‚  â”‚   â”œâ”€ Features List                          â”‚
â”‚  â”‚   â””â”€ Clear History Button                   â”‚
â”‚  â”‚                                             â”‚
â”‚  â”œâ”€ Chat Container                             â”‚
â”‚  â”‚   â”œâ”€ Messages Area (scrollable)             â”‚
â”‚  â”‚   â”‚   â”œâ”€ Welcome Message                    â”‚
â”‚  â”‚   â”‚   â”œâ”€ User Messages                      â”‚
â”‚  â”‚   â”‚   â””â”€ Bot Messages                       â”‚
â”‚  â”‚   â”‚                                         â”‚
â”‚  â”‚   â””â”€ Input Area                             â”‚
â”‚  â”‚       â”œâ”€ Text Input                         â”‚
â”‚  â”‚       â””â”€ Send Button                        â”‚
â”‚  â”‚                                             â”‚
â”‚  â””â”€ Modal Dialog                               â”‚
â”‚      â”œâ”€ Close Button                           â”‚
â”‚      â”œâ”€ Symptoms Input (textarea)              â”‚
â”‚      â”œâ”€ Analyze Button                         â”‚
â”‚      â””â”€ Results Area                           â”‚
â”‚                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Backend Components

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                app.py                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                â”‚
â”‚  Configuration                                 â”‚
â”‚  â”œâ”€ API Key                                    â”‚
â”‚  â”œâ”€ Secret Key                                 â”‚
â”‚  â””â”€ Directories                                â”‚
â”‚                                                â”‚
â”‚  Helper Functions                              â”‚
â”‚  â”œâ”€ get_session_id()                           â”‚
â”‚  â”œâ”€ load_chat_history()                        â”‚
â”‚  â”œâ”€ save_chat_history()                        â”‚
â”‚  â””â”€ call_openrouter_api()                      â”‚
â”‚                                                â”‚
â”‚  Routes                                        â”‚
â”‚  â”œâ”€ / (index)                                  â”‚
â”‚  â”œâ”€ /api/chat (POST)                           â”‚
â”‚  â”œâ”€ /api/history (GET)                         â”‚
â”‚  â”œâ”€ /api/clear (POST)                          â”‚
â”‚  â”œâ”€ /api/predict-disease (POST)                â”‚
â”‚  â””â”€ /api/symptoms (GET)                        â”‚
â”‚                                                â”‚
â”‚  Main Execution                                â”‚
â”‚  â””â”€ app.run()                                  â”‚
â”‚                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Technology Stack

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Frontend Stack                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  HTML5        - Structure               â”‚
â”‚  CSS3         - Styling & Animations    â”‚
â”‚  JavaScript   - Interactivity           â”‚
â”‚  Fetch API    - AJAX Requests           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Backend Stack                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Python 3.11  - Language                â”‚
â”‚  Flask 2.3+   - Web Framework           â”‚
â”‚  Requests     - HTTP Client             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Machine Learning Stack            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Scikit-learn - ML Framework            â”‚
â”‚  Pandas       - Data Processing         â”‚
â”‚  NumPy        - Numerical Computing     â”‚
â”‚  Pickle       - Model Serialization     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          External Services              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  OpenRouter   - AI API Provider         â”‚
â”‚  Llama 3.3    - Language Model          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## File Structure Tree

```
chatbot/
â”‚
â”œâ”€â”€ ğŸ“± Frontend
â”‚   â”œâ”€â”€ templates/
â”‚   â”‚   â””â”€â”€ index.html              (Main UI)
â”‚   â””â”€â”€ static/
â”‚       â”œâ”€â”€ style.css               (Styling)
â”‚       â””â”€â”€ script.js               (Logic)
â”‚
â”œâ”€â”€ ğŸ Backend
â”‚   â”œâ”€â”€ app.py                      (Flask Server)
â”‚   â”œâ”€â”€ trainmodel.py               (ML Training)
â”‚   â””â”€â”€ ai.py                       (CLI Tool)
â”‚
â”œâ”€â”€ ğŸ“Š Data
â”‚   â”œâ”€â”€ dataset/
â”‚   â”‚   â”œâ”€â”€ dataset.csv             (Disease-Symptom)
â”‚   â”‚   â”œâ”€â”€ symptom_Description.csv (Descriptions)
â”‚   â”‚   â”œâ”€â”€ symptom_precaution.csv  (Precautions)
â”‚   â”‚   â””â”€â”€ Symptom-severity.csv    (Severity Weights)
â”‚   â”‚
â”‚   â”œâ”€â”€ chat_history/               (Auto-generated)
â”‚   â”‚   â””â”€â”€ *.json                  (Session Chats)
â”‚   â”‚
â”‚   â”œâ”€â”€ random_forest_model.pkl     (Trained Model)
â”‚   â””â”€â”€ model_data.pkl              (Model Metadata)
â”‚
â”œâ”€â”€ ğŸ“– Documentation
â”‚   â”œâ”€â”€ README.md                   (Model Docs)
â”‚   â”œâ”€â”€ README_CHATBOT.md           (Chatbot Guide)
â”‚   â”œâ”€â”€ QUICKSTART.md               (Quick Start)
â”‚   â”œâ”€â”€ PROJECT_SUMMARY.md          (Overview)
â”‚   â”œâ”€â”€ API_KEY_GUIDE.md            (API Setup)
â”‚   â””â”€â”€ ARCHITECTURE.md             (This File)
â”‚
â”œâ”€â”€ âš™ï¸ Configuration
â”‚   â”œâ”€â”€ requirements.txt            (Dependencies)
â”‚   â””â”€â”€ .env.example                (Config Template)
â”‚
â””â”€â”€ ğŸš€ Scripts
    â”œâ”€â”€ setup.bat                   (Setup Script)
    â””â”€â”€ run_chatbot.bat             (Launch Script)
```

---

## Security Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Security Layers                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  1. API Key Protection                          â”‚
â”‚     â”œâ”€ Environment Variables                    â”‚
â”‚     â”œâ”€ Never committed to Git                   â”‚
â”‚     â””â”€ Masked in logs                           â”‚
â”‚                                                 â”‚
â”‚  2. Session Management                          â”‚
â”‚     â”œâ”€ Random session IDs                       â”‚
â”‚     â”œâ”€ Server-side storage                      â”‚
â”‚     â””â”€ No client-side secrets                   â”‚
â”‚                                                 â”‚
â”‚  3. Input Validation                            â”‚
â”‚     â”œâ”€ Sanitize user input                      â”‚
â”‚     â”œâ”€ Type checking                            â”‚
â”‚     â””â”€ Length limits                            â”‚
â”‚                                                 â”‚
â”‚  4. Error Handling                              â”‚
â”‚     â”œâ”€ Graceful error messages                  â”‚
â”‚     â”œâ”€ No stack traces to client                â”‚
â”‚     â””â”€ Logging for debugging                    â”‚
â”‚                                                 â”‚
â”‚  5. File System Security                        â”‚
â”‚     â”œâ”€ Isolated session files                   â”‚
â”‚     â”œâ”€ No path traversal                        â”‚
â”‚     â””â”€ Limited file access                      â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Scalability Considerations

### Current Design
- âœ… Single server
- âœ… File-based storage
- âœ… Synchronous requests
- âœ… Good for: Small-medium traffic

### For Production Scale
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Load Balancer (nginx)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
     â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
     â”‚           â”‚
     â–¼           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Flask 1 â”‚ â”‚ Flask 2 â”‚ ... (Multiple instances)
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚           â”‚
     â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Redis / Database    â”‚ (Shared session storage)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Performance Metrics

```
Component              Response Time    Throughput
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Page Load              < 1s             N/A
Model Loading          < 1s             Once
Disease Prediction     < 100ms          100+ req/s
AI Response            2-5s             API-limited
Chat History Load      < 50ms           1000+ req/s
```

---

## Deployment Options

### Local Development
```
Python app.py â†’ localhost:5000
```

### Production Server
```
Gunicorn/Waitress â†’ Multiple workers â†’ Production port
```

### Cloud Deployment
```
Heroku / AWS / Azure / Google Cloud
  â”œâ”€ Auto-scaling
  â”œâ”€ Load balancing
  â”œâ”€ Database integration
  â””â”€ CDN for static files
```

---

## Integration Points

### Current Integrations
1. **OpenRouter API** - AI responses
2. **Scikit-learn** - ML predictions
3. **Flask Sessions** - User tracking

### Possible Future Integrations
- ğŸ”® Database (PostgreSQL, MongoDB)
- ğŸ”® Redis (Caching, Sessions)
- ğŸ”® Authentication (OAuth, JWT)
- ğŸ”® Analytics (Google Analytics)
- ğŸ”® Monitoring (Sentry, Datadog)
- ğŸ”® CDN (CloudFront, Cloudflare)

---

This architecture is designed for:
âœ“ Easy understanding
âœ“ Simple deployment
âœ“ Future scalability
âœ“ Educational purposes

**Happy Building!** ğŸ—ï¸
